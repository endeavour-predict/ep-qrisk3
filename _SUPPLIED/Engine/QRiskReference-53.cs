using System;
using System.Collections.Generic;
using System.Text;

namespace QRISK3Engine
{
    public struct QRiskReferenceScores
    {
        public static string version()
        {
            return "Reference values version 2018.0";
        }

        public static readonly int minAge = 25;
        public static readonly int maxAge = 84;

        // age, sex, ethnicity

        private static readonly double[, ,] Scores2018 =
        // imported from autogenerated text file "referenceTable2018.code"
  {
    {
      { 0.111006,0.146909,0.194836,0.149201,0.119382,0.093593,0.074893,0.080111,0.093541 },
      { 0.080972,0.106822,0.130102,0.137475,0.083863,0.056608,0.054254,0.053464,0.062239 } 
    },
    {
      { 0.132083,0.174796,0.231811,0.177524,0.142048,0.111365,0.089116,0.095325,0.111304 },
      { 0.107359,0.141627,0.172485,0.182257,0.111192,0.075058,0.071937,0.070890,0.082524 } 
    },
    {
      { 0.155575,0.205877,0.273015,0.209089,0.167311,0.131174,0.104969,0.112283,0.131102 },
      { 0.139495,0.184012,0.224095,0.236787,0.144475,0.097530,0.093475,0.092115,0.107230 } 
    },
    {
      { 0.181652,0.240375,0.318746,0.244124,0.195353,0.153164,0.122569,0.131108,0.153080 },
      { 0.178017,0.234813,0.285946,0.302136,0.184371,0.124471,0.119296,0.117561,0.136848 } 
    },
    {
      { 0.210504,0.278542,0.369333,0.282886,0.226379,0.177496,0.142044,0.151938,0.177399 },
      { 0.223551,0.294853,0.359037,0.379357,0.231528,0.156319,0.149822,0.147642,0.171861 } 
    },
    {
      { 0.242344,0.320656,0.425145,0.325655,0.260617,0.204348,0.163537,0.174927,0.204236 },
      { 0.276709,0.364934,0.444339,0.469476,0.286580,0.193505,0.185464,0.182766,0.212740 } 
    },
    {
      { 0.277404,0.367025,0.486588,0.372746,0.298317,0.233919,0.187208,0.200244,0.233790 },
      { 0.338086,0.445836,0.542797,0.573487,0.350142,0.236448,0.226624,0.223329,0.259947 } 
    },
    {
      { 0.315944,0.417989,0.554108,0.424503,0.339757,0.266425,0.213229,0.228076,0.266278 },
      { 0.408262,0.538317,0.655325,0.692355,0.422816,0.285558,0.273696,0.269718,0.313930 } 
    },
    {
      { 0.358246,0.473921,0.628197,0.481305,0.385241,0.302106,0.241795,0.258629,0.301941 },
      { 0.487800,0.643112,0.782808,0.827011,0.505182,0.341232,0.327061,0.322308,0.375125 } 
    },
    {
      { 0.404620,0.535230,0.709392,0.543566,0.435102,0.341226,0.273116,0.292127,0.341039 },
      { 0.577251,0.760933,0.926102,0.978357,0.597810,0.403860,0.387093,0.381470,0.443959 } 
    },
    {
      { 0.455408,0.602362,0.798281,0.611741,0.489707,0.384072,0.307423,0.328818,0.383862 },
      { 0.677149,0.892477,1.086043,1.147270,0.701254,0.473823,0.454159,0.447563,0.520851 } 
    },
    {
      { 0.510980,0.675805,0.895503,0.686323,0.549452,0.430958,0.344968,0.368971,0.430722 },
      { 0.788025,1.038425,1.263443,1.334604,0.816061,0.551499,0.528620,0.520945,0.606213 } 
    },
    {
      { 0.571740,0.756090,1.001756,0.767853,0.614773,0.482226,0.386027,0.412880,0.481962 },
      { 0.910401,1.199451,1.459104,1.541198,0.942770,0.637262,0.610835,0.601971,0.700454 } 
    },
    {
      { 0.638130,0.843795,1.117797,0.856917,0.686143,0.538249,0.430898,0.460866,0.537955 },
      { 1.044799,1.376223,1.673817,1.767883,1.081920,0.731486,0.701166,0.690996,0.803984 } 
    },
    {
      { 0.710628,0.939548,1.244448,0.954152,0.764074,0.599434,0.479909,0.513277,0.599106 },
      { 1.191744,1.569411,1.908374,2.015487,1.234054,0.834552,0.799977,0.788379,0.917217 } 
    },
    {
      { 0.789754,1.044031,1.382599,1.060249,0.849127,0.666221,0.533415,0.570492,0.665857 },
      { 1.351771,1.779692,2.163571,2.284840,1.399722,0.946846,0.907640,0.894488,1.040576 } 
    },
    {
      { 0.876075,1.157981,1.533216,1.175959,0.941906,0.739090,0.591802,0.632924,0.738686 },
      { 1.525428,2.007760,2.440218,2.576788,1.579489,1.068765,1.024537,1.009700,1.174492 } 
    },
    {
      { 0.970202,1.282200,1.697340,1.302094,1.043069,0.818560,0.655487,0.701019,0.818113 },
      { 1.713278,2.254324,2.739144,2.892195,1.773936,1.200723,1.151066,1.134407,1.319416 } 
    },
    {
      { 1.072800,1.417554,1.876100,1.439533,1.153327,0.905195,0.724926,0.775262,0.904701 },
      { 1.915911,2.520124,3.061206,3.231951,1.983671,1.343150,1.287642,1.269018,1.475817 } 
    },
    {
      { 1.184588,1.564981,2.070713,1.589227,1.273452,0.999607,0.800611,0.856180,0.999061 },
      { 2.133946,2.805929,3.407295,3.596983,2.209330,1.496502,1.434702,1.413967,1.644189 } 
    },
    {
      { 1.306344,1.725493,2.282491,1.752204,1.404277,1.102456,0.883078,0.944343,1.101854 },
      { 2.368033,3.112550,3.778345,3.988259,2.451582,1.661258,1.592709,1.569709,1.825054 } 
    },
    {
      { 1.438911,1.900184,2.512848,1.929572,1.546704,1.214461,0.972904,1.040369,1.213798 },
      { 2.618865,3.440844,4.175336,4.406797,2.711140,1.837931,1.762158,1.736732,2.018967 } 
    },
    {
      { 1.583199,2.090234,2.763307,2.122530,1.701708,1.336395,1.070717,1.144925,1.335666 },
      { 2.887177,3.791717,4.599306,4.853670,2.988760,2.027069,1.943576,1.915557,2.226522 } 
    },
    {
      { 1.740192,2.296916,3.035503,2.332367,1.870340,1.469097,1.177195,1.258736,1.468297 },
      { 3.173756,4.166138,5.051357,5.330016,3.285251,2.229257,2.137527,2.106743,2.448355 } 
    },
    {
      { 1.910951,2.521600,3.331194,2.560472,2.053736,1.613474,1.293074,1.382585,1.612595 },
      { 3.479446,4.565136,5.532659,5.837042,3.601478,2.445126,2.344621,2.310890,2.685148 } 
    },
    {
      { 2.096622,2.765760,3.652265,2.808342,2.253119,1.770502,1.419145,1.517316,1.769539 },
      { 3.805151,4.989814,6.044456,6.376034,3.938372,2.675357,2.565513,2.528645,2.937637 } 
    },
    {
      { 2.298438,3.030982,4.000734,3.077582,2.469809,1.941239,1.556268,1.663845,1.940183 },
      { 4.151843,5.441353,6.588076,6.948359,4.296929,2.920680,2.800910,2.760707,3.206612 } 
    },
    {
      { 2.517729,3.318969,4.378761,3.369920,2.705223,2.126822,1.705369,1.823156,2.125667 },
      { 4.520568,5.921016,7.164936,7.555470,4.678221,3.181888,3.051575,3.007831,3.492928 } 
    },
    {
      { 2.755926,3.631546,4.788651,3.687204,2.960887,2.328480,1.867448,1.996316,2.327217 },
      { 4.912450,6.430155,7.776544,8.198919,5.083403,3.459833,3.318333,3.270830,3.797506 } 
    },
    {
      { 3.014567,3.970672,5.232863,4.031417,3.238442,2.547534,2.043585,2.184472,2.546153 },
      { 5.328699,6.970219,8.424507,8.880352,5.513713,3.755439,3.602076,3.550586,4.121342 } 
    },
    {
      { 3.295305,4.338438,5.714013,4.404680,3.539645,2.785405,2.234942,2.388860,2.783897 },
      { 5.770617,7.542757,9.110537,9.601520,5.970486,4.069702,3.903767,3.848052,4.465508 } 
    },
    {
      { 3.599912,4.737082,6.234877,4.809256,3.866383,3.043624,2.442774,2.610813,3.041978 },
      { 6.239602,8.149425,9.836453,10.364280,6.455151,4.403699,4.224449,4.164256,4.831163 } 
    },
    {
      { 3.930286,5.168989,6.798399,5.247560,4.220673,3.323831,2.668429,2.851762,3.322037 },
      { 6.737157,8.791991,10.604183,11.170598,6.969247,4.758592,4.565244,4.500311,5.219556 } 
    },
    {
      { 4.288462,5.636697,7.407689,5.722161,4.604672,3.627788,2.913359,3.113249,3.625833 },
      { 7.264894,9.472340,11.415772,12.022553,7.514421,5.135638,4.927370,4.857417,5.632034 } 
    },
    {
      { 4.676611,6.142905,8.066023,6.235788,5.020683,3.957384,3.179122,3.396925,3.955254 },
      { 7.824543,10.192479,12.273377,12.922332,8.092440,5.536189,5.312136,5.236873,6.070047 } 
    },
    {
      { 5.097051,6.690474,8.776842,6.791333,5.471159,4.314637,3.467392,3.704564,4.312319 },
      { 8.417954,10.954539,13.179273,13.872235,8.705193,5.961705,5.720958,5.640077,6.535158 } 
    },
    {
      { 5.552251,7.282429,9.543749,7.391853,5.958709,4.701706,3.779964,4.038066,4.699186 },
      { 9.047108,11.760779,14.135850,14.874669,9.354699,6.413759,6.155360,6.068538,7.029047 } 
    },
    {
      { 6.044836,7.921961,10.370500,8.040571,6.486100,5.120895,4.118760,4.399462,5.118156 },
      { 9.714120,12.613588,15.145606,15.932147,10.043112,6.894042,6.616986,6.523882,7.553518 } 
    },
    {
      { 6.577591,8.612425,11.260990,8.740874,7.056264,5.574656,4.485835,4.790924,5.571682 },
      { 10.421243,13.515487,16.211151,17.047276,10.772725,7.404376,7.107604,7.007859,8.110509 } 
    },
    {
      { 7.153463,9.357338,12.219241,9.496309,7.672297,6.065599,4.883387,5.214767,6.062371 },
      { 11.170877,14.469125,17.335191,18.222750,11.545976,7.946716,7.629114,7.522351,8.702097 } 
    },
    {
      { 7.775565,10.160372,13.249381,10.310577,8.337460,6.596490,5.313755,5.673459,6.592990 },
      { 11.965570,15.477281,18.520519,19.461336,12.365451,8.523161,8.183560,8.069381,9.330508 } 
    },
    {
      { 8.447170,11.025341,14.355614,11.187521,9.055172,7.170259,5.779432,6.169620,7.166466 },
      { 12.808020,16.542853,19.770007,20.765858,13.233884,9.135961,8.773133,8.651122,9.998119 } 
    },
    {
      { 9.171717,11.956194,15.542189,12.131110,9.829016,7.789998,6.283066,6.706030,7.785892 },
      { 13.701082,17.668854,21.086578,22.139171,14.154162,9.787525,9.400181,9.269901,10.707469 } 
    },
    {
      { 9.952798,12.956990,16.813358,13.145426,10.662717,8.458963,6.827464,7.285631,8.454521 },
      { 14.647761,18.858400,22.473188,23.584138,15.129321,10.480427,10.067220,9.928210,11.461265 } 
    },
    {
      { 10.794154,14.031876,18.173327,14.234631,11.560144,9.180571,7.415594,7.911527,9.175769 },
      { 15.651216,20.114694,23.932797,25.103593,16.162541,11.217416,10.776935,10.628716,12.262384 } 
    },
    {
      { 11.699661,15.185057,19.626194,15.402937,12.525282,9.958395,8.050589,8.586985,9.953208 },
      { 16.714750,21.441004,25.468329,26.700300,17.257143,12.001417,11.532192,11.374262,13.113881 } 
    },
    {
      { 12.673313,16.420759,21.175881,16.654571,13.562221,10.796153,8.735740,9.315432,10.790557 },
      { 17.841808,22.840638,27.082632,28.376904,18.416580,12.835542,12.336042,12.167878,14.018988 } 
    },
    {
      { 13.719203,17.743181,22.826053,17.993722,14.675120,11.697701,9.474500,10.100447,11.691669 },
      { 19.035958,24.316913,28.778420,30.135873,19.644416,13.723087,13.191726,13.012784,14.981115 } 
    },
    {
      { 14.841491,19.156440,24.580022,19.424488,15.868179,12.667014,10.270474,10.945759,12.660520 },
      { 20.300878,25.873108,30.558217,31.979427,20.944313,14.667541,14.102677,13.912394,16.003851 } 
    },
    {
      { 16.044373,20.664508,26.440640,20.950806,17.145597,13.708166,11.127408,11.855226,13.701180 },
      { 21.640332,27.512419,32.424278,33.909457,22.320002,15.672577,15.072522,14.870319,17.090955 } 
    },
    {
      { 17.332037,22.271134,28.410186,22.576376,18.511519,14.825298,12.049181,12.832824,14.817793 },
      { 23.058139,29.237897,34.378502,35.927435,23.775247,16.742056,16.105082,15.890361,18.246347 } 
    },
    {
      { 18.708611,23.979756,30.490224,24.304569,19.969978,16.022591,13.039785,13.882626,16.014539 },
      { 24.558135,31.052372,36.422337,38.034304,25.313809,17.880009,17.204359,16.976514,19.474094 } 
    },
    {
      { 20.178104,25.793401,32.681467,26.138324,21.524827,17.304219,14.103299,15.008766,17.295592 },
      { 26.144125,32.958371,38.556665,40.230356,26.939387,19.090634,18.374533,18.132948,20.778389 } 
    },
    {
      { 21.744334,27.714572,34.983617,28.080034,23.179653,18.674302,15.243865,16.215416,18.665071 },
      { 27.819819,34.958015,40.781669,42.515105,28.655554,20.378266,19.619942,19.363998,22.163519 } 
    },
    {
      { 23.410845,29.745123,37.395202,30.131417,24.937687,20.136842,16.465647,17.506733,20.126982 },
      { 29.588767,37.052904,43.096697,44.887129,30.465682,21.747359,20.945059,20.674143,23.633834 } 
    },
    {
      { 25.180811,31.886120,39.913410,32.293375,26.801697,21.695659,17.772792,18.886812,21.685143 },
      { 31.454260,39.243983,45.500101,47.343918,32.372844,23.202441,22.354462,22.067972,25.193691 } 
    },
    {
      { 27.056934,34.137689,42.533915,34.565842,28.773869,23.354301,19.169371,20.359627,23.343107 },
      { 33.419236,41.531388,47.989066,49.881696,34.379704,24.748070,23.852787,23.550145,26.847396 } 
    },
    {
      { 29.041315,36.498861,45.250714,36.947626,30.855678,25.115959,20.659324,21.928957,25.104066 },
      { 35.486145,43.914281,50.559432,52.495248,36.488387,26.388775,25.444680,25.125342,28.599128 } 
    },
    {
      { 31.135332,38.967402,48.055975,39.436237,33.047740,26.983356,22.246380,23.598304,26.970747 },
      { 37.656813,46.390663,53.205507,55.177735,38.700327,28.128974,27.134721,26.798194,30.452843 } 
    },
    {
      { 33.339485,41.539650,50.939904,42.027724,35.349661,28.958628,23.933975,25.370799,28.945290 },
      { 39.932272,48.957174,55.919878,57.920527,41.016097,29.972882,28.927343,28.573202,32.412164 } 
    }
  };

        // this defines the function "get_score" that we use to access the table
        // it contains its own error checking, and means that we can pass age = 25
        // to get at the first line in the array.
        public static double get_score(int sex, int age, int ethrisk)
        {
            if ( (age < minAge || age > maxAge) || !(sex == 0 || sex == 1) || (ethrisk < 1 || ethrisk > 9) )
            {
                // raise an exception
                throw (new ApplicationException("An attempt was made to access QRiskReferenceScores with invalid parameters: (" + sex.ToString() + ", " + age.ToString() + ", " + ethrisk.ToString() + ")."));
            }
            double score = Scores2018[age - minAge, sex, ethrisk - 1];
            return ((int)((score * 100)+0.5))/100.0;
        }

        public static int size_of_array()
        {
            return Scores2018.GetLength(0);
        }
    }
}
